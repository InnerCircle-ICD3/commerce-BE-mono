openapi: 3.0.1
info:
  title: 801base API docs
  description: 801base의 API 문서입니다.
  version: 0.0.1
servers:
- url: http://localhost:8080
tags:
- name: Product-Common
  description: 상품 코드 API
- name: Product
  description: 사용자 상품 API
- name: Review
  description: 사용자 리뷰 API
- name: Admin-Product
  description: 관리자 상품 API
- name: Admin-File
  description: 관리자 파일업로드관련 API
- name: Admin-Review
  description: 관리자 리뷰 API
paths:
  /admin/products:
    get:
      tags:
      - Admin-Product
      summary: 관리자가 상품을 검색한다.
      operationId: 관리자_상품검색_성공
      parameters:
      - name: name
        in: query
        description: 상품명
        required: false
        schema:
          type: string
      - name: intensityId
        in: query
        description: 강도 카테고리 아이디
        required: false
        schema:
          type: string
      - name: cupSizeId
        in: query
        description: 컵사이즈 카테고리 아이디
        required: false
        schema:
          type: string
      - name: sellingStatusCode
        in: query
        description: 판매상태 코드
        required: false
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-products1356038074"
              examples:
                관리자_상품검색_성공:
                  value: |-
                    {
                      "data" : {
                        "content" : [ {
                          "id" : 1,
                          "name" : "스타벅스 캡슐커피",
                          "price" : 10000,
                          "quantity" : 10,
                          "intensity" : "1",
                          "cupSize" : "25ml",
                          "sellingStatus" : "판매중"
                        } ],
                        "page" : 0,
                        "size" : 20,
                        "totalPages" : 1,
                        "totalElements" : 1
                      },
                      "error" : null
                    }
    post:
      tags:
      - Admin-Product
      summary: 관리자가 상품을 등록한다.
      description: |2-
                            APD-001: 상품명이 비어있습니다.
                            APD-002: 상품명은 최대 255자까지 입력가능합니다.
                            APD-003: 상품가격은 0보다 커야합니다.
                            APD-004: 상품재고는 0이상이어야합니다.
                            APD-005: 상품 썸네일이 비어있습니다.
                            APD-006: 상품 상세이미지가 비어있습니다.
                            APD-007: 유효하지 않은 카테고리(강도/컵사이즈)입니다.
      operationId: '관리자 상품등록 '
      parameters:
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: "#/components/schemas/admin-products-productId182916913"
            examples:
              관리자 상품등록 성공:
                value: |-
                  {
                    "name" : "스타벅스",
                    "price" : 10000,
                    "quantity" : 10,
                    "thumbnail" : "https://example.com/thumbnail.jpg",
                    "detailImage" : "https://example.com/detail.jpg",
                    "intensityId" : 1,
                    "cupSizeId" : 10
                  }
              관리자 상품등록 실패:
                value: |-
                  {
                    "name" : "",
                    "price" : 10000,
                    "quantity" : 10,
                    "thumbnail" : "https://example.com/thumbnail.jpg",
                    "detailImage" : "https://example.com/detail.jpg",
                    "intensityId" : 1,
                    "cupSizeId" : 10
                  }
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-products611185173"
              examples:
                관리자 상품등록 성공:
                  value: |-
                    {
                      "data" : {
                        "id" : 1
                      },
                      "error" : null
                    }
                관리자 상품등록 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "APD-001",
                        "message" : "상품명이 비어있습니다."
                      }
                    }
  /admin/reviews:
    get:
      tags:
      - Admin-Review
      summary: 관리자가 리뷰를 검색한다.
      operationId: 관리자_리뷰검색_성공
      parameters:
      - name: productId
        in: query
        description: 상품아이디
        required: false
        schema:
          type: string
      - name: productName
        in: query
        description: 상품명
        required: false
        schema:
          type: string
      - name: content
        in: query
        description: 리뷰 내용(부분 검색)
        required: false
        schema:
          type: string
      - name: from
        in: query
        description: 리뷰 작성일(from)
        required: false
        schema:
          type: string
      - name: to
        in: query
        description: 리뷰 작성일(to)
        required: false
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-reviews1537164265"
              examples:
                관리자_리뷰검색_성공:
                  value: |-
                    {
                      "data" : {
                        "content" : [ {
                          "reviewId" : 1,
                          "rating" : 5,
                          "content" : "굿",
                          "createdAt" : "2025-06-01T04:46:33.285407",
                          "adminReply" : {
                            "content" : "ㅎㅎ",
                            "createdAt" : "2025-06-01T04:46:33.285645"
                          },
                          "productId" : 1,
                          "productName" : "스타벅스 캡슐",
                          "productThumbnail" : "https://example.com/thumbnail.jpg"
                        } ],
                        "page" : 0,
                        "size" : 20,
                        "totalPages" : 1,
                        "totalElements" : 1
                      },
                      "error" : null
                    }
  /admin/products/selling-status:
    get:
      tags:
      - Admin-Product
      summary: 상품 판매상태 코드 목록을 조회한다.
      operationId: 판매상태 목록 조회
      parameters:
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-products-selling-status716502139"
              examples:
                판매상태 목록 조회:
                  value: |-
                    {
                      "data" : {
                        "status" : [ {
                          "code" : "ON_SALE",
                          "label" : "판매중"
                        }, {
                          "code" : "UNAVAILABLE",
                          "label" : "판매중지"
                        }, {
                          "code" : "HIDDEN",
                          "label" : "숨김"
                        } ]
                      },
                      "error" : null
                    }
  /admin/products/{productId}:
    get:
      tags:
      - Admin-Product
      summary: 관리자가 상품 상세정보를 조회한다.
      description: "                APD-008: 존재하지 않는 상품입니다."
      operationId: '관리자 상품조회 '
      parameters:
      - name: productId
        in: path
        description: 상품 아이디
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-products-productId1078580214"
              examples:
                관리자 상품조회 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "APD-008",
                        "message" : "존재하지 않는 상품입니다."
                      }
                    }
                관리자 상품조회 성공:
                  value: |-
                    {
                      "data" : {
                        "id" : 1,
                        "name" : "스타벅스 캡슐커피",
                        "price" : 10000,
                        "quantity" : 10,
                        "thumbnail" : "https://example.com/thumbnail.jpg",
                        "detailImage" : "https://example.com/detail.jpg",
                        "intensityId" : 1,
                        "cupSizeId" : 10,
                        "sellingStatusCode" : "ON_SALE"
                      },
                      "error" : null
                    }
    put:
      tags:
      - Admin-Product
      summary: 관리자가 상품을 수정한다.
      description: |2-
                            APD-001: 상품명이 비어있습니다.
                            APD-002: 상품명은 최대 255자까지 입력가능합니다.
                            APD-003: 상품가격은 0보다 커야합니다.
                            APD-004: 상품재고는 0이상이어야합니다.
                            APD-005: 상품 썸네일이 비어있습니다.
                            APD-006: 상품 상세이미지가 비어있습니다.
                            APD-007: 유효하지 않은 카테고리(강도/컵사이즈)입니다.
                            APD-008: 존재하지 않는 상품입니다.
      operationId: '관리자 상품수정 '
      parameters:
      - name: productId
        in: path
        description: 상품 아이디
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: "#/components/schemas/admin-products-productId182916913"
            examples:
              관리자 상품수정 실패:
                value: |-
                  {
                    "name" : "스타벅스",
                    "price" : 10000,
                    "quantity" : 10,
                    "thumbnail" : "https://example.com/thumbnail.jpg",
                    "detailImage" : "https://example.com/detail.jpg",
                    "intensityId" : 1,
                    "cupSizeId" : 10
                  }
              관리자 상품수정 성공:
                value: |-
                  {
                    "name" : "스타벅스",
                    "price" : 10000,
                    "quantity" : 10,
                    "thumbnail" : "https://example.com/thumbnail.jpg",
                    "detailImage" : "https://example.com/detail.jpg",
                    "intensityId" : 1,
                    "cupSizeId" : 10
                  }
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-products-productId-333932198"
              examples:
                관리자 상품수정 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "APD-008",
                        "message" : "존재하지 않는 상품입니다."
                      }
                    }
                관리자 상품수정 성공:
                  value: |-
                    {
                      "data" : {
                        "id" : 1
                      },
                      "error" : null
                    }
    delete:
      tags:
      - Admin-Product
      summary: 관리자가 상품을 삭제한다.
      description: "                    APD-008: 존재하지 않는 상품입니다."
      operationId: '관리자 상품삭제 '
      parameters:
      - name: productId
        in: path
        description: 상품 아이디
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-reviews-reviewId-reply-replyId229151801"
              examples:
                관리자 상품삭제  실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "APD-008",
                        "message" : "존재하지 않는 상품입니다."
                      }
                    }
                관리자 상품삭제 성공:
                  value: |-
                    {
                      "data" : {
                        "message" : "OK"
                      },
                      "error" : null
                    }
  /admin/reviews/{reviewId}/reply:
    post:
      tags:
      - Admin-Review
      summary: 관리자가 리뷰 답글을 등록한다.
      description: |2-
                            ARV-001: 존재하지 않는 리뷰입니다.
                            ARV-002: 리뷰 답글이 비어있습니다.
      operationId: '관리자 리뷰답글등록 '
      parameters:
      - name: reviewId
        in: path
        description: 리뷰 아이디
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: "#/components/schemas/admin-reviews-reviewId-reply800783421"
            examples:
              관리자 리뷰답글등록 실패:
                value: |-
                  {
                    "content" : ""
                  }
              관리자 리뷰답글등록 성공:
                value: |-
                  {
                    "content" : "감사합니다"
                  }
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-reviews-reviewId-reply-1213825671"
              examples:
                관리자 리뷰답글등록 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "ARV-001",
                        "message" : "존재하지 않는 리뷰입니다."
                      }
                    }
                관리자 리뷰답글등록 성공:
                  value: |-
                    {
                      "data" : {
                        "replyId" : 1
                      },
                      "error" : null
                    }
  /admin/reviews/{reviewId}/reply/{replyId}:
    put:
      tags:
      - Admin-Review
      summary: 관리자가 리뷰답글을 수정한다.
      description: |2-
                            ARV-001: 존재하지 않는 리뷰입니다.
                            ARV-002: 리뷰 답글이 비어있습니다.
                            ARV-003: 존재하지 않는 리뷰 답글입니다.
      operationId: '관리자 리뷰답글수정 '
      parameters:
      - name: reviewId
        in: path
        description: 리뷰 아이디
        required: true
        schema:
          type: string
      - name: replyId
        in: path
        description: 리뷰답글 아이디
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: "#/components/schemas/admin-reviews-reviewId-reply800783421"
            examples:
              관리자 리뷰답글수정 실패:
                value: |-
                  {
                    "content" : "감사합니다."
                  }
              관리자 리뷰답글수정 성공:
                value: |-
                  {
                    "content" : "감사합니다."
                  }
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-reviews-reviewId-reply-replyId-1294417038"
              examples:
                관리자 리뷰답글수정 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "ARV-003",
                        "message" : "존재하지 않는 리뷰 답글입니다."
                      }
                    }
                관리자 리뷰답글수정 성공:
                  value: |-
                    {
                      "data" : {
                        "replyId" : 1
                      },
                      "error" : null
                    }
    delete:
      tags:
      - Admin-Review
      summary: 관리자가 리뷰답글을 삭제한다.
      description: "                    APD-008: 존재하지 않는 리뷰답글입니다."
      operationId: '관리자 리뷰답글삭제 '
      parameters:
      - name: reviewId
        in: path
        description: 리뷰 아이디
        required: true
        schema:
          type: string
      - name: replyId
        in: path
        description: 리뷰답글 아이디
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/admin-reviews-reviewId-reply-replyId229151801"
              examples:
                관리자 리뷰답글삭제  실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "ARV-003",
                        "message" : "존재하지 않는 리뷰 답글입니다."
                      }
                    }
                관리자 리뷰답글삭제 성공:
                  value: |-
                    {
                      "data" : {
                        "message" : "OK"
                      },
                      "error" : null
                    }
  /files/presigned-url:
    post:
      tags:
      - Admin-File
      summary: 관리자가 업로드를 위한 Presigned URL을 발급한다.
      description: |2-
                        FIE-001: 파일명이 비어있습니다.
                        FIE-002: 파일크기가 너무 큽니다.
                        FIE-003: 허용되지 않는 파일타입입니다.
      operationId: 'Presigned URL 발급 '
      parameters:
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: "#/components/schemas/files-presigned-url941098065"
            examples:
              Presigned URL 발급 성공:
                value: |-
                  {
                    "fileName" : "스타벅스캡슐.png",
                    "contentType" : "image/png",
                    "fileSize" : 324893,
                    "domainType" : "product",
                    "domainContext" : "thumbnail",
                    "contextId" : "f1df3364-1b59-4d76-bf69-618caffb4123"
                  }
              Presigned URL 발급 실패:
                value: |-
                  {
                    "fileName" : "바이러스.exe",
                    "contentType" : "application/x-msdownload",
                    "fileSize" : 1024,
                    "domainType" : "product",
                    "domainContext" : "thumbnail",
                    "contextId" : "f1df3364-1b59-4d76-bf69-618caffb4123"
                  }
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/files-presigned-url-107893841"
              examples:
                Presigned URL 발급 성공:
                  value: |-
                    {
                      "data" : {
                        "uploadUrl" : "https://801base.s3.amazonaws.com/product/f1df3364-1b59-4d76-bf69-618caffb4123/thumbnail.jpg",
                        "key" : "product/f1df3364-1b59-4d76-bf69-618caffb4123/thumbnail.jpg",
                        "contextId" : "f1df3364-1b59-4d76-bf69-618caffb4123"
                      },
                      "error" : null
                    }
                Presigned URL 발급 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "FIE-003",
                        "message" : "허용되지 않는 파일타입입니다."
                      }
                    }
  /products:
    get:
      tags:
      - Product
      summary: 상품을 검색한다.
      operationId: 상품 검색
      parameters:
      - name: name
        in: query
        description: 상품명
        required: false
        schema:
          type: string
      - name: intensityId
        in: query
        description: 강도 카테고리 아이디
        required: false
        schema:
          type: string
      - name: cupSizeId
        in: query
        description: 컵사이즈 카테고리 아이디
        required: false
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/products-1926445314"
              examples:
                상품 검색:
                  value: |-
                    {
                      "data" : {
                        "content" : [ {
                          "id" : 1,
                          "name" : "스타벅스 캡슐커피",
                          "price" : 10000,
                          "quantity" : 10,
                          "thumbnail" : "https://example.com/thumbnail.jpg",
                          "intensity" : "1",
                          "cupSize" : "25ml",
                          "isSoldOut" : false
                        } ],
                        "page" : 0,
                        "size" : 20,
                        "totalPages" : 1,
                        "totalElements" : 1
                      },
                      "error" : null
                    }
  /products/categories:
    get:
      tags:
      - Product-Common
      summary: 상품 카테고리 목록을 조회한다.
      operationId: 상품 카테고리 목록 조회
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/products-categories1540071435"
              examples:
                상품 카테고리 목록 조회:
                  value: |-
                    {
                      "data" : {
                        "intensities" : [ {
                          "id" : 1,
                          "label" : "1"
                        }, {
                          "id" : 2,
                          "label" : "2"
                        }, {
                          "id" : 3,
                          "label" : "3"
                        }, {
                          "id" : 4,
                          "label" : "4"
                        }, {
                          "id" : 5,
                          "label" : "5"
                        }, {
                          "id" : 6,
                          "label" : "6"
                        }, {
                          "id" : 7,
                          "label" : "7"
                        }, {
                          "id" : 8,
                          "label" : "8"
                        }, {
                          "id" : 9,
                          "label" : "9"
                        } ],
                        "cupSizes" : [ {
                          "id" : 10,
                          "label" : "25ml"
                        }, {
                          "id" : 11,
                          "label" : "40ml"
                        }, {
                          "id" : 12,
                          "label" : "80ml"
                        }, {
                          "id" : 13,
                          "label" : "150ml"
                        }, {
                          "id" : 14,
                          "label" : "230ml"
                        }, {
                          "id" : 15,
                          "label" : "355ml"
                        } ]
                      },
                      "error" : null
                    }
  /products/{productId}:
    get:
      tags:
      - Product
      summary: 상품 아이디로 상품 상세정보를 조회한다.
      operationId: 상품 상세 조회
      parameters:
      - name: productId
        in: path
        description: 상품 아이디
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/products-productId-409759417"
              examples:
                상품 상세 조회:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "PRO-001",
                        "message" : "Product Not Found."
                      }
                    }
  /products/{productId}/reviews:
    get:
      tags:
      - Review
      summary: 상품에 속한 리뷰 목록을 조회한다.
      operationId: 상품 리뷰목록 조회 성공
      parameters:
      - name: productId
        in: path
        description: 상품 아이디
        required: true
        schema:
          type: string
      - name: page
        in: query
        description: 요청 페이지
        required: false
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/products-productId-reviews1878564791"
              examples:
                상품 리뷰목록 조회 성공:
                  value: |-
                    {
                      "data" : {
                        "content" : [ {
                          "reviewId" : 1,
                          "rating" : 5,
                          "content" : "굿",
                          "createdAt" : "2025-06-01T04:46:34.500734",
                          "adminReply" : {
                            "content" : "ㅎㅎ",
                            "createdAt" : "2025-06-01T04:46:34.500749"
                          },
                          "productId" : 1,
                          "productName" : "스타벅스 캡슐",
                          "productThumbnail" : "https://example.com/thumbnail.jpg"
                        } ],
                        "page" : 1,
                        "size" : 20,
                        "totalPages" : 2,
                        "totalElements" : 21
                      },
                      "error" : null
                    }
  /products/{productId}/reviews/rating:
    get:
      tags:
      - Review
      summary: 상품에 속한 리뷰 통계를 조회한다.
      operationId: 상품 리뷰통계 조회 성공
      parameters:
      - name: productId
        in: path
        description: 상품 아이디
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/products-productId-reviews-rating257501732"
              examples:
                상품 리뷰통계 조회 성공:
                  value: |-
                    {
                      "data" : {
                        "averageRating" : 3.5,
                        "ratingDistribution" : {
                          "oneStarCount" : 1,
                          "twoStarsCount" : 2,
                          "threeStarsCount" : 3,
                          "fourStarsCount" : 4,
                          "fiveStarsCount" : 5
                        }
                      },
                      "error" : null
                    }
  /reviews:
    post:
      tags:
      - Review
      summary: 리뷰를 등록한다.
      description: |2-
                        RVW-001: 리뷰 내용을 입력해주세요.
                        RVW-002: 별점은 1~5점사이로 선택해주세요.
                        RVW-003: 배송완료된 주문건에 대해서만 리뷰를 작성할 수 있습니다.
                        RVW-004: 배송완료 후 30일 이내의 주문건에 대해서만 리뷰를 작성 및 수정할 수 있습니다.
      operationId: '리뷰등록 '
      parameters:
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      - name: Content-Type
        in: header
        description: Content-Type
        required: true
        schema:
          type: string
        example: application/json;charset=UTF-8
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: "#/components/schemas/reviews-reviewId-1366038683"
            examples:
              리뷰등록 실패:
                value: |-
                  {
                    "orderNumber" : "ORD20250601123456789",
                    "orderItemId" : 1,
                    "rating" : 4,
                    "content" : ""
                  }
              리뷰등록 성공:
                value: |-
                  {
                    "orderNumber" : "ORD20250601123456789",
                    "orderItemId" : 1,
                    "rating" : 4,
                    "content" : "맛있어요."
                  }
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/reviews1987239494"
              examples:
                리뷰등록 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "RVW-001",
                        "message" : "리뷰 내용을 입력해주세요."
                      }
                    }
                리뷰등록 성공:
                  value: |-
                    {
                      "data" : {
                        "reviewId" : 1
                      },
                      "error" : null
                    }
  /reviews/{reviewId}:
    put:
      tags:
      - Review
      summary: 리뷰를 수정한다.
      description: |2-
                        RVW-001: 리뷰 내용을 입력해주세요.
                        RVW-002: 별점은 1~5점사이로 선택해주세요.
                        RVW-005: 존재하지 않는 리뷰입니다.
                        RVW-006: 다른 사람의 리뷰를 수정 또는 삭제할 수 없습니다.
      operationId: '리뷰수정 '
      parameters:
      - name: reviewId
        in: path
        description: 리뷰 아이디
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      - name: Content-Type
        in: header
        description: Content-Type
        required: true
        schema:
          type: string
        example: application/json;charset=UTF-8
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: "#/components/schemas/reviews-reviewId-1366038683"
            examples:
              리뷰수정 성공:
                value: |-
                  {
                    "orderNumber" : "ORD20250601123456789",
                    "orderItemId" : 1,
                    "rating" : 4,
                    "content" : "맛있어요."
                  }
              리뷰수정 실패:
                value: |-
                  {
                    "orderNumber" : "ORD20250601123456789",
                    "orderItemId" : 1,
                    "rating" : 4,
                    "content" : ""
                  }
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/reviews-reviewId-1111686033"
              examples:
                리뷰수정 성공:
                  value: |-
                    {
                      "data" : {
                        "reviewId" : 1
                      },
                      "error" : null
                    }
                리뷰수정 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "RVW-001",
                        "message" : "리뷰 내용을 입력해주세요."
                      }
                    }
    delete:
      tags:
      - Review
      summary: 리뷰를 삭제한다.
      description: |2-
                        RVW-005: 존재하지 않는 리뷰입니다.
                        RVW-006: 다른 사람의 리뷰를 수정 또는 삭제할 수 없습니다.
      operationId: '리뷰삭제 '
      parameters:
      - name: reviewId
        in: path
        description: 리뷰 아이디
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      - name: Content-Type
        in: header
        description: Content-Type
        required: true
        schema:
          type: string
        example: application/json;charset=UTF-8
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/reviews-reviewId1857046459"
              examples:
                리뷰삭제 성공:
                  value: |-
                    {
                      "data" : {
                        "message" : "OK"
                      },
                      "error" : null
                    }
                리뷰삭제 실패:
                  value: |-
                    {
                      "data" : null,
                      "error" : {
                        "code" : "RVW-001",
                        "message" : "리뷰 내용을 입력해주세요."
                      }
                    }
  /users/me/reviews:
    get:
      tags:
      - Review
      summary: 본인이 작성한 리뷰 목록을 조회한다.
      operationId: 작성한 리뷰목록 조회 성공
      parameters:
      - name: monthRange
        in: query
        description: "검색 범위(단위: month)"
        required: false
        schema:
          type: string
      - name: page
        in: query
        description: 페이지
        required: false
        schema:
          type: string
      - name: Authorization
        in: header
        description: Authorization
        required: true
        schema:
          type: string
        example: Bearer sample-auth-key
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/products-productId-reviews1878564791"
              examples:
                작성한 리뷰목록 조회 성공:
                  value: |-
                    {
                      "data" : {
                        "content" : [ {
                          "reviewId" : 2,
                          "rating" : 3,
                          "content" : "배송이 느렸어요 ㅠ",
                          "createdAt" : "2025-06-01T04:46:34.443179",
                          "adminReply" : {
                            "content" : "죄송합니다.",
                            "createdAt" : "2025-06-01T04:46:34.443831"
                          },
                          "productId" : 3,
                          "productName" : "할리스 캡슐",
                          "productThumbnail" : "https://example.com/thumbnail2.jpg"
                        } ],
                        "page" : 1,
                        "size" : 20,
                        "totalPages" : 2,
                        "totalElements" : 21
                      },
                      "error" : null
                    }
components:
  schemas:
    products-categories1540071435:
      type: object
      properties:
        data:
          type: object
          properties:
            cupSizes:
              type: array
              items:
                required:
                - id
                - label
                type: object
                properties:
                  label:
                    type: string
                    description: 컵사이즈 카테고리명
                  id:
                    type: number
                    description: 컵사이즈 카테고리 아이디
            intensities:
              type: array
              items:
                required:
                - id
                - label
                type: object
                properties:
                  label:
                    type: string
                    description: 강도 카테고리명
                  id:
                    type: number
                    description: 강도 카테고리 아이디
    admin-products-productId-333932198:
      type: object
      properties:
        data:
          required:
          - id
          type: object
          properties:
            id:
              type: number
              description: 수정된 상품 아이디
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    admin-reviews-reviewId-reply800783421:
      required:
      - content
      type: object
      properties:
        content:
          type: string
          description: 답글 내용
    admin-products1356038074:
      type: object
      properties:
        data:
          required:
          - page
          - size
          - totalElements
          - totalPages
          type: object
          properties:
            size:
              type: number
              description: 페이지 사이즈(기본값 10)
            totalPages:
              type: number
              description: 전체 페이지 수
            page:
              type: number
              description: 현재 페이지 (기본값 1)
            content:
              type: array
              items:
                required:
                - cupSize
                - id
                - intensity
                - name
                - price
                - quantity
                - sellingStatus
                type: object
                properties:
                  intensity:
                    type: string
                    description: 강도 카테고리 라벨
                  sellingStatus:
                    type: string
                    description: 판매상태 라벨
                  quantity:
                    type: number
                    description: 재고
                  price:
                    type: number
                    description: 가격
                  name:
                    type: string
                    description: 상품명
                  id:
                    type: number
                    description: 상품 아이디
                  cupSize:
                    type: string
                    description: 컵사이즈 카테고리 라벨
            totalElements:
              type: number
              description: 총 수
    files-presigned-url941098065:
      required:
      - contentType
      - domainContext
      - domainType
      - fileName
      - fileSize
      type: object
      properties:
        domainContext:
          type: string
          description: 도메인 내 파일 유형 구분
        fileName:
          type: string
          description: 업로드할 파일의 원본 이름
        domainType:
          type: string
          description: 업로드할 도메인(S3 prefix)
        fileSize:
          type: number
          description: 업로드할 파일의 크기(Byte)
        contextId:
          type: string
          description: 업로드 세션 UUID
          nullable: true
        contentType:
          type: string
          description: 허용되지 않은 MIME 타입
    admin-reviews-reviewId-reply-replyId-1294417038:
      type: object
      properties:
        data:
          required:
          - replyId
          type: object
          properties:
            replyId:
              type: number
              description: 수정된 리뷰답글 아이디
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    reviews-reviewId1857046459:
      type: object
      properties:
        data:
          required:
          - message
          type: object
          properties:
            message:
              type: string
              description: 삭제 응답
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    admin-products-selling-status716502139:
      type: object
      properties:
        data:
          type: object
          properties:
            status:
              type: array
              items:
                required:
                - code
                - label
                type: object
                properties:
                  code:
                    type: string
                    description: 판매상태 코드
                  label:
                    type: string
                    description: 판매상태
    products-productId-reviews1878564791:
      type: object
      properties:
        data:
          required:
          - page
          - size
          - totalElements
          - totalPages
          type: object
          properties:
            size:
              type: number
              description: 페이지 사이즈(기본값 10)
            totalPages:
              type: number
              description: 전체 페이지 수
            page:
              type: number
              description: 현재 페이지 (기본값 1)
            content:
              type: array
              items:
                required:
                - content
                - createdAt
                - productId
                - productName
                - productThumbnail
                - rating
                - reviewId
                type: object
                properties:
                  createdAt:
                    type: string
                    description: 리뷰 작성일
                  productId:
                    type: number
                    description: 리뷰 상품아이디
                  productThumbnail:
                    type: string
                    description: 리뷰 상품 썸네일
                  rating:
                    type: number
                    description: 별점
                  reviewId:
                    type: number
                    description: 리뷰 아이디
                  productName:
                    type: string
                    description: 리뷰 상품명
                  adminReply:
                    type: object
                    properties:
                      createdAt:
                        type: string
                        description: 관리자의 리뷰 답글 작성일
                        nullable: true
                      content:
                        type: string
                        description: 관리자의 리뷰 답글 내용
                        nullable: true
                  content:
                    type: string
                    description: 리뷰 내용
            totalElements:
              type: number
              description: 총 수
    admin-reviews-reviewId-reply-replyId229151801:
      type: object
      properties:
        data:
          required:
          - message
          type: object
          properties:
            message:
              type: string
              description: 삭제 메시지
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    products-1926445314:
      type: object
      properties:
        data:
          required:
          - page
          - size
          - totalElements
          - totalPages
          type: object
          properties:
            size:
              type: number
              description: 페이지 사이즈(기본값 10)
            totalPages:
              type: number
              description: 전체 페이지 수
            page:
              type: number
              description: 현재 페이지 (기본값 1)
            content:
              type: array
              items:
                required:
                - cupSize
                - id
                - intensity
                - isSoldOut
                - name
                - price
                - quantity
                - thumbnail
                type: object
                properties:
                  intensity:
                    type: string
                    description: 강도 카테고리 라벨
                  thumbnail:
                    type: string
                    description: 썸네일 url
                  quantity:
                    type: number
                    description: 재고
                  price:
                    type: number
                    description: 가격
                  isSoldOut:
                    type: boolean
                    description: 품절 여부
                  name:
                    type: string
                    description: 상품명
                  id:
                    type: number
                    description: 상품 아이디
                  cupSize:
                    type: string
                    description: 컵사이즈 카테고리 라벨
            totalElements:
              type: number
              description: 총 수
    reviews-reviewId-1111686033:
      type: object
      properties:
        data:
          required:
          - reviewId
          type: object
          properties:
            reviewId:
              type: number
              description: 수정된 리뷰 아이디
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    products-productId-409759417:
      type: object
      properties:
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    reviews1987239494:
      type: object
      properties:
        data:
          required:
          - reviewId
          type: object
          properties:
            reviewId:
              type: number
              description: 생성된 리뷰 아이디
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    reviews-reviewId-1366038683:
      required:
      - content
      - orderItemId
      - orderNumber
      - rating
      type: object
      properties:
        orderNumber:
          type: string
          description: 주문 번호
        orderItemId:
          type: number
          description: 주문 아이템 아이디
        rating:
          type: number
          description: 별점
        content:
          type: string
          description: 리뷰내용
    admin-products-productId182916913:
      required:
      - cupSizeId
      - detailImage
      - intensityId
      - name
      - price
      - quantity
      - thumbnail
      type: object
      properties:
        thumbnail:
          type: string
          description: 썸네일 url
        intensityId:
          type: number
          description: 강도 카테고리 아이디
        quantity:
          type: number
          description: 재고
        price:
          type: number
          description: 가격
        cupSizeId:
          type: number
          description: 컵사이즈 카테고리 아이디
        name:
          type: string
          description: 상품명
        detailImage:
          type: string
          description: 상세 이미지 url
    admin-reviews1537164265:
      type: object
      properties:
        data:
          required:
          - page
          - size
          - totalElements
          - totalPages
          type: object
          properties:
            size:
              type: number
              description: 페이지 사이즈(기본값 10)
            totalPages:
              type: number
              description: 전체 페이지 수
            page:
              type: number
              description: 현재 페이지 (기본값 1)
            content:
              type: array
              items:
                required:
                - content
                - createdAt
                - productId
                - productName
                - productThumbnail
                - rating
                - reviewId
                type: object
                properties:
                  createdAt:
                    type: string
                    description: 리뷰 작성일
                  productId:
                    type: number
                    description: 리뷰 상품 아이디
                  productThumbnail:
                    type: string
                    description: 리뷰 상품 썸네일
                  rating:
                    type: number
                    description: 별점
                  reviewId:
                    type: number
                    description: 리뷰 아이디
                  productName:
                    type: string
                    description: 리뷰 상품명
                  adminReply:
                    type: object
                    properties:
                      createdAt:
                        type: string
                        description: 관리자의 리뷰 답글 작성일
                        nullable: true
                      content:
                        type: string
                        description: 관리자의 리뷰 답글 내용
                        nullable: true
                  content:
                    type: string
                    description: 리뷰 내용
            totalElements:
              type: number
              description: 총 수
    admin-products611185173:
      type: object
      properties:
        data:
          required:
          - id
          type: object
          properties:
            id:
              type: number
              description: 등록된 상품 아이디
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    products-productId-reviews-rating257501732:
      type: object
      properties:
        data:
          required:
          - averageRating
          type: object
          properties:
            ratingDistribution:
              required:
              - fiveStarsCount
              - fourStarsCount
              - oneStarCount
              - threeStarsCount
              - twoStarsCount
              type: object
              properties:
                oneStarCount:
                  type: number
                  description: 리뷰 별점 1점 분포
                twoStarsCount:
                  type: number
                  description: 리뷰 별점 2점 분포
                fiveStarsCount:
                  type: number
                  description: 리뷰 별점 5점 분포
                fourStarsCount:
                  type: number
                  description: 리뷰 별점 4점 분포
                threeStarsCount:
                  type: number
                  description: 리뷰 별점 3점 분포
            averageRating:
              type: number
              description: 리뷰 평균 별점
    files-presigned-url-107893841:
      type: object
      properties:
        data:
          required:
          - contextId
          - key
          - uploadUrl
          type: object
          properties:
            uploadUrl:
              type: string
              description: S3에 파일을 업로드하기 위한 Presigned URL
            contextId:
              type: string
              description: 업로드 세션을 식별하는 UUID (파일 그룹 식별자)
            key:
              type: string
              description: 업로드된 파일의 S3 저장 경로 (S3 object key)
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    admin-reviews-reviewId-reply-1213825671:
      type: object
      properties:
        data:
          required:
          - replyId
          type: object
          properties:
            replyId:
              type: number
              description: 등록된 리뷰 답글 아이디
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
    admin-products-productId1078580214:
      type: object
      properties:
        data:
          required:
          - cupSizeId
          - detailImage
          - id
          - intensityId
          - name
          - price
          - quantity
          - sellingStatusCode
          - thumbnail
          type: object
          properties:
            thumbnail:
              type: string
              description: 썸네일 url
            intensityId:
              type: number
              description: 강도 카테고리 아이디
            quantity:
              type: number
              description: 재고
            price:
              type: number
              description: 가격
            cupSizeId:
              type: number
              description: 컵사이즈 카테고리 아이디
            name:
              type: string
              description: 상품명
            sellingStatusCode:
              type: string
              description: 판매상태 코드
            id:
              type: number
              description: 상품아이이디
            detailImage:
              type: string
              description: 상세 이미지 url
        error:
          required:
          - code
          - message
          type: object
          properties:
            code:
              type: string
              description: 에러 코드
            message:
              type: string
              description: 에러 메시지
